<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Giriş Yap</title>
    <link rel="stylesheet" href="login.css" />
  </head>
  <body>
    <div class="login-container">
      <div class="login-box">
        <h2>Giriş Yap</h2>

        <div
          id="error-message"
          style="
            display: none;
            color: #721c24;
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            margin-bottom: 15px;
          "
        ></div>
        <form action="php/login.php" method="POST">
          <div class="input-group">
            <label for="email">E-posta</label>
            <input type="email" id="email" name="email" />
          </div>

          <div class="input-group">
            <label for="password">Şifre</label>
            <input type="password" id="password" name="password" />
          </div>

          <button type="submit" class="login-button">Giriş Yap</button>
        </form>

        <div class="register-link">
          <p>Hesabın yok mu? <a href="register.html">Kayıt Ol.</a></p>
        </div>
      </div>
    </div>

    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const error = urlParams.get("error");
      const errorDiv = document.getElementById("error-message");

      if (error) {
        errorDiv.style.display = "block";

        if (error === "empty") {
          errorDiv.innerText = "Lütfen tüm alanları doldurunuz.";
        } else if (error === "failed") {
          errorDiv.innerText = "E-posta veya şifre hatalı.";
        } else {
          errorDiv.innerText = "Bir hata oluştu.";
        }
      }
    </script>
  </body>
</html>
